<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Derivative of Splines — deriv • splines2</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">splines2</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/splines2-intro.html">Introduction to splines2</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/wenjie2wang/splines2">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Derivative of Splines</h1>
    </div>

    
    <p><code>deriv</code> methods that obtain derivative of given order of B-splines,
M-spline, I-splines, and C-splines, etc. At knots, the derivative is defined
to be the right derivative. By default, the function returns the first
derivative. For derivatives of order greater than one, the nested call such
as <code>deriv(deriv(expr))</code> is supported but not recommended. For a better
performance, argument <code>derivs</code> should be specified instead.</p>
    

    <pre class="usage"><span class='co'># S3 method for bSpline2</span>
<span class='fu'>deriv</span>(<span class='no'>expr</span>, <span class='kw'>derivs</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for dbs</span>
<span class='fu'>deriv</span>(<span class='no'>expr</span>, <span class='kw'>derivs</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for ibs</span>
<span class='fu'>deriv</span>(<span class='no'>expr</span>, <span class='kw'>derivs</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for mSpline</span>
<span class='fu'>deriv</span>(<span class='no'>expr</span>, <span class='kw'>derivs</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for iSpline</span>
<span class='fu'>deriv</span>(<span class='no'>expr</span>, <span class='kw'>derivs</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for cSpline</span>
<span class='fu'>deriv</span>(<span class='no'>expr</span>, <span class='kw'>derivs</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>expr</th>
      <td><p>Objects of class <code>bSpline2</code>, <code>ibs</code>, <code>dbs</code>,
<code>mSpline</code>, <code>iSpline</code>, or <code>cSpline</code>, etc.</p></td>
    </tr>
    <tr>
      <th>derivs</th>
      <td><p>A positive integer specifying the order of derivatives. By
default, it is <code>1L</code> for the first derivative.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments for further usage.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A matrix of dimension <code>length(x)</code> by
<code>df = degree + length(knots)</code> (plus one if intercept is included).
Attributes that correspond to the arguments specified are returned
for usage for other function in this package.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function is designed for most of the objects generated from this
package. It internally extracts necessary information about the input spline
basis matrix from its attributes. So the function will not work if some
attribute is not available.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>De Boor, Carl. (1978). <em>A practical guide to splines</em>.
Vol. 27. New York: Springer-Verlag.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='bSpline.html'>bSpline</a></code> for B-splines;
<code><a href='ibs.html'>ibs</a></code> for integral of B-splines;
<code><a href='mSpline.html'>mSpline</a></code> for M-splines;
<code><a href='iSpline.html'>iSpline</a></code> for I-splines;
<code><a href='cSpline.html'>cSpline</a></code> for C-splines.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>library</span>(<span class='no'>splines2</span>)
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='fu'>seq.int</span>(<span class='fl'>0</span>, <span class='fl'>1</span>, <span class='fl'>0.1</span>), <span class='fl'>NA</span>)  <span class='co'># NA's will be kept.</span>
<span class='no'>knots</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='fl'>0.3</span>, <span class='fl'>0.5</span>, <span class='fl'>0.6</span>)

<span class='co'>## integal of B-splines and the corresponding B-splines integrated</span>
<span class='no'>ibsMat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ibs.html'>ibs</a></span>(<span class='no'>x</span>, <span class='kw'>knots</span> <span class='kw'>=</span> <span class='no'>knots</span>)
<span class='no'>bsMat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='bSpline.html'>bSpline</a></span>(<span class='no'>x</span>, <span class='kw'>knots</span> <span class='kw'>=</span> <span class='no'>knots</span>)

<span class='co'>## the first derivative</span>
<span class='no'>d1Mat</span> <span class='kw'>&lt;-</span> <span class='fu'>deriv</span>(<span class='no'>ibsMat</span>)
<span class='fu'>stopifnot</span>(<span class='fu'>all.equal</span>(<span class='no'>bsMat</span>, <span class='no'>d1Mat</span>, <span class='kw'>check.attributes</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>))

<span class='co'>## the second derivative</span>
<span class='no'>d2Mat1</span> <span class='kw'>&lt;-</span> <span class='fu'>deriv</span>(<span class='no'>bsMat</span>)
<span class='no'>d2Mat2</span> <span class='kw'>&lt;-</span> <span class='fu'>deriv</span>(<span class='no'>ibsMat</span>, <span class='kw'>derivs</span> <span class='kw'>=</span> <span class='fl'>2L</span>)
<span class='co'>## nested calls are supported but not recommended</span>
<span class='no'>d2Mat3</span> <span class='kw'>&lt;-</span> <span class='fu'>deriv</span>(<span class='fu'>deriv</span>(<span class='no'>ibsMat</span>))
<span class='fu'>stopifnot</span>(<span class='fu'>all.equal</span>(<span class='no'>d2Mat1</span>, <span class='no'>d2Mat2</span>, <span class='no'>d2Mat3</span>, <span class='kw'>check.attributes</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>))

<span class='co'>## C-splines, I-splines, M-splines and the derivatives</span>
<span class='no'>csMat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='cSpline.html'>cSpline</a></span>(<span class='no'>x</span>, <span class='kw'>knots</span> <span class='kw'>=</span> <span class='no'>knots</span>, <span class='kw'>scale</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='no'>isMat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='iSpline.html'>iSpline</a></span>(<span class='no'>x</span>, <span class='kw'>knots</span> <span class='kw'>=</span> <span class='no'>knots</span>)
<span class='fu'>stopifnot</span>(<span class='fu'>all.equal</span>(<span class='no'>isMat</span>, <span class='fu'>deriv</span>(<span class='no'>csMat</span>), <span class='kw'>check.attributes</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>))

<span class='no'>msMat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='mSpline.html'>mSpline</a></span>(<span class='no'>x</span>, <span class='kw'>knots</span> <span class='kw'>=</span> <span class='no'>knots</span>)
<span class='fu'>stopifnot</span>(<span class='fu'>all.equal</span>(<span class='no'>msMat</span>, <span class='fu'>deriv</span>(<span class='no'>isMat</span>), <span class='fu'>deriv</span>(<span class='no'>csMat</span>, <span class='fl'>2</span>),
                    <span class='fu'>deriv</span>(<span class='fu'>deriv</span>(<span class='no'>csMat</span>)), <span class='kw'>check.attributes</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>))

<span class='no'>dmsMat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='mSpline.html'>mSpline</a></span>(<span class='no'>x</span>, <span class='kw'>knots</span> <span class='kw'>=</span> <span class='no'>knots</span>, <span class='kw'>derivs</span> <span class='kw'>=</span> <span class='fl'>1</span>)
<span class='fu'>stopifnot</span>(<span class='fu'>all.equal</span>(<span class='no'>dmsMat</span>, <span class='fu'>deriv</span>(<span class='no'>msMat</span>), <span class='fu'>deriv</span>(<span class='no'>isMat</span>, <span class='fl'>2</span>),
                    <span class='fu'>deriv</span>(<span class='fu'>deriv</span>(<span class='no'>isMat</span>)), <span class='fu'>deriv</span>(<span class='no'>csMat</span>, <span class='fl'>3</span>),
                    <span class='fu'>deriv</span>(<span class='fu'>deriv</span>(<span class='fu'>deriv</span>(<span class='no'>csMat</span>))), <span class='kw'>check.attributes</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>))</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Wenjie Wang, Jun Yan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
